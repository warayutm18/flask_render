{% extends "indexlayout.html" %}

{% block content %}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg p-3 mb-5 bg-white rounded">
                <div class="card-body text-center">
                    <h1 class="card-title mb-4">ผลการทดสอบของคุณ</h1>
                    <h4 class="mb-3">รหัส: {{ std_id }}</h4>
                    <h4 class="mb-3">ชื่อ: {{ firstname }} {{ lastname }}</h4>
                    <h4 class="mb-3">คณะ: {{ faculty }}</h4>
                    <h4 class="mb-3">สาขา: {{ major }}</h4>
                    <h4 class="mb-3">ระดับทักษะภาษาอังกฤษ(CEFR): B1</h4>
                    <p class="fs-4">คุณทำคะแนนได้</p>
                    <h2 class="display-4 text-success">{{ score }} / {{ total_questions }}</h2>

                    <!-- แถบแสดงคะแนนความสำเร็จ -->
                    <div class="progress my-4" style="height: 30px;">
                        {% set percentage = (score / total_questions) * 100 %}
                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: {{ percentage | round(2) }}%;" aria-valuenow="{{ percentage | round(2) }}" aria-valuemin="0" aria-valuemax="100">
                            {{ percentage | round(2) }}%
                        </div>
                    </div>
                    
                    <!-- ข้อความให้กำลังใจ -->
                    {% if percentage >= 80 %}
                    <p class="text-success fs-5">ยินดีด้วย! คุณทำได้ดีมาก!</p>
                    {% elif percentage >= 50 %}
                    <p class="text-warning fs-5">คุณทำได้ดีแล้ว! </p>
                    {% else %}
                    <p class="text-danger fs-5">ไม่เป็นไร แต่ยังมีโอกาสพัฒนา!</p>
                    {% endif %}
                    
                    <!-- ปุ่ม -->
                    <div class="d-grid gap-2 d-md-block mt-4">
                        <a href="{{ url_for('index') }}" class="btn btn-secondary btn-lg">กลับหน้าหลัก</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
